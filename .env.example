# ============================================
# 币安量化交易机器人 — 环境变量配置
# ============================================

# --- 身份验证与连接 ---
# [必填] 币安 API Key
BINANCE_API_KEY=
# [必填] 币安 API Secret
BINANCE_API_SECRET=
# [必填] 是否使用测试网 (true/false)
USE_TESTNET=true
# [必填] 交易对符号 (例如: BNBUSDT, BTCUSDT)
TRADING_SYMBOL=BNBUSDT

# --- 网格核心参数优化 ---
# 网格上限价格
GRID_UPPER_PRICE=640.0
# 网格下限价格
GRID_LOWER_PRICE=580.0

# ⚠️ 网格数量降至 8 格
GRID_COUNT=50

# 每格投入金额提高以维持总资金利用率
GRID_INVESTMENT_PER_GRID=5.5

# --- 风险与盈亏控制 ---
# 止损百分比 (0.1 表示 10%, 当账户净值回撤达到此比例时触发紧急平仓)
STOP_LOSS_PERCENT=0.1
# 止盈金额目标 (累计净利润达到此数值时自动停止并平仓)
TAKE_PROFIT_AMOUNT=5000
# 最大允许买卖价差 (防止在流动性极差时下单导致严重滑点)
MAX_SPREAD_PERCENT=0.01
# 资金预留比例 (保留部分 USDT 不参与交易，用于支付手续费或安全冗余)
RESERVE_RATIO=0.1

# --- 外部通知设置 ---
# Telegram 机器人 Token (通过 @BotFather 获取)
TELEGRAM_BOT_TOKEN=
# Telegram 会话 ID (通过 @userinfobot 获取)
TELEGRAM_CHAT_ID=

# --- 系统设置 ---
# 日志级别 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# --- 自适应策略 (V2.x+ 核心) ---
# 是否开启自适应模式 (根据市场波动自动调整密度和偏移)
ADAPTIVE_MODE=true
# 市场分析时间间隔 (秒，1-3600，决定机器人感知市场的灵敏度)
ANALYSIS_INTERVAL=30
# 阴跌阈值 (临时放宽供测试)
RSI_BLEED_THRESHOLD=20
# 马丁格尔倍数 (用于在状态切换时的补仓倍数)
MARTIN_MULTIPLIER=1.5

# --- 安全阈值 (V3.0 增强) ---
# 最大马丁加倍层数
MAX_MARTIN_LEVELS=2
# 最大回撤容忍度
MAX_DRAWDOWN=0.2
# 最大总挂单数上限 (防止超过交易所限制或权重负载)
MAX_ORDER_COUNT=100
# 数据过期超时时间 (秒，WebSocket 超过此时限未更新则回退 REST 检查)
STALE_DATA_TIMEOUT=120
# 预估交易手续费率 (用于净利润计算)
TRADING_FEE_RATE=0.001
# 持仓占比限制 (持仓价值占总资产比例上限)
MAX_POSITION_RATIO=0.7

# --- 交易控制 ---
# 交易冷却时间（单位：秒）。设置为 0.5，代表无论行情多剧烈，两次真实下单之间至少间隔 0.5 秒
TRADE_COOLDOWN=0.5
